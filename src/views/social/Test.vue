<template>
    <div class="common-layout">
        <el-container>
            <el-aside width="200px">
                <svg t="1758979357374" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="1058" width="20" height="20">
                    <path
                        d="M405.205333 71.765333c137.557333 0 251.52 109.056 251.52 245.504 0 76.757333-35.84 144.512-91.434666 189.269334 90.752 39.850667 139.818667 130.176 166.101333 203.648a689.322667 689.322667 0 0 1 35.541333 157.056l0.256 2.901333 0.085334 0.853333 0.042666 0.213334v0.128l-42.538666 3.285333 42.538666-3.242667a42.709333 42.709333 0 0 1-42.453333 45.909334l-648.874667 1.109333a42.752 42.752 0 0 1-42.666666-45.397333c10.752-166.144 75.392-279.68 172.757333-341.76 13.525333-8.618667 27.52-16.128 41.898667-22.613334C190.72 463.786667 153.6 394.965333 153.6 317.269333c0-136.96 113.493333-245.504 251.605333-245.504z m283.306667 57.898667a42.666667 42.666667 0 0 1 58.666667-13.866667c77.44 47.829333 102.784 128.085333 100.778666 200.234667-1.450667 51.754667-16.938667 104.106667-41.386666 144.64 22.784 20.394667 42.794667 45.141333 59.946666 70.698667 26.752 39.850667 49.194667 84.992 67.072 126.72a1287.466667 1287.466667 0 0 1 51.84 144.896c1.237333 4.181333 2.133333 7.466667 2.773334 9.770666l0.725333 2.645334 0.213333 0.725333 0.042667 0.213333v0.085334h0.042667a42.666667 42.666667 0 0 1-81.194667 25.941333l-1.322667-4.181333v-0.042667l-0.170666-0.512-0.597334-2.133333a1110.186667 1110.186667 0 0 0-12.373333-40.96c-8.789333-27.178667-21.76-64-38.4-102.826667-16.682667-38.869333-36.693333-78.848-59.477333-112.768-23.168-34.474667-46.933333-59.477333-69.973334-72.490667a42.666667 42.666667 0 0 1-9.216-67.328c22.784-22.826667 44.672-72.149333 46.165334-125.44 1.408-51.626667-16.213333-98.048-60.288-125.312a42.666667 42.666667 0 0 1-13.909334-58.709333zM391.978667 562.346667c-51.626667 1.706667-99.669333 15.146667-140.074667 40.917333-61.525333 39.253333-111.786667 111.189333-128.725333 229.76l552.448-0.938667c-4.693333-25.6-12.373333-58.88-24.618667-93.098666-26.88-74.965333-70.741333-141.909333-139.861333-161.365334a407.552 407.552 0 0 0-94.890667-15.146666 259.072 259.072 0 0 1-24.32-0.085334z m13.184-405.162667C311.808 157.141333 238.933333 229.717333 238.933333 317.269333c0 83.626667 68.053333 154.453333 155.904 159.701334 6.570667-0.128 13.226667-0.085333 19.797334 0.085333 88.362667-4.736 156.757333-75.349333 156.757333-159.786667 0-86.954667-73.386667-160.128-166.186667-160.128z"
                        p-id="1059">
                    </path>
                </svg></el-aside>
            <el-main>

                <div>
                    <!-- 文件选择 -->
                    <input type="file" accept="video/*" @change="onFileChange" />

                    <!-- 播放视频 -->
                    <videoPlay v-if="videoUrl" :src="videoUrl" width="600px" height="400px" :autoPlay="false"
                        :loop="false" :volume="0.8" :control="true" />


                    <div>
                        <input type="file" accept="image/*" @change="onFileChange1" />
                        <img v-if="imgUrl" :src="imgUrl" v-viewer />
                    </div>
                </div>

            </el-main>
            <!-- <el-aside width="200px">Aside</el-aside> -->
        </el-container>
    </div>
</template>

<script>
import { ipcRenderer } from 'electron'
import { ref } from "vue";
import "vue3-video-play/dist/style.css";
import { videoPlay } from "vue3-video-play";
export default {
    name: "VideoPlayer",
    components: {
        videoPlay
    },
    setup() {
        const videoUrl = ref("");

        const onFileChange = (e) => {
            const file = e.target.files[0];
            if (file) {
                videoUrl.value = URL.createObjectURL(file);
            }
        };

        return {
            videoUrl,
            onFileChange
        };
    },
    mounted() {
        ipcRenderer.send('update-unread', 5) // 显示 "5"
    },
    data() {
        return {
            "imgUrl":""
        }
    },
    methods: {
        onFileChange1(e) {
            const file = e.target.files[0];
            if (file) {
                this.imgUrl = URL.createObjectURL(file);
            }
        }
    }
}
</script>

<style lang="scss" scoped>
.el-aside {
    border: 1px solid grey;
    background-color: beige;
}

.el-main {
    border: 1px solid grey;
    background-color: beige;
}
</style>